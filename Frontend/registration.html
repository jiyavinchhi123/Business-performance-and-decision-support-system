<!DOCTYPE html>

<html lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Register - BP-DSS</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#135bec",
                        "background-light": "#f6f6f8",
                        "background-dark": "#101622",
                    },
                    fontFamily: {
                        "display": ["Inter"]
                    },
                    borderRadius: {
                        "DEFAULT": "0.25rem",
                        "lg": "0.5rem",
                        "xl": "0.75rem",
                        "full": "9999px"
                    },
                },
            },
        }
    </script>
<style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .material-symbols-outlined {
            font-size: 20px;
        }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark min-h-screen flex flex-col font-display">
<!-- Navigation Header -->
<header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-primary/10 bg-white dark:bg-background-dark px-6 md:px-10 py-3">
<div class="flex items-center gap-3 text-primary">
<div class="size-8 flex items-center justify-center bg-primary text-white rounded-lg">
<span class="material-symbols-outlined">account_tree</span>
</div>
<h2 class="text-[#0d121b] dark:text-white text-xl font-bold leading-tight tracking-tight">BP-DSS</h2>
</div>
<a class="flex min-w-[84px] cursor-pointer items-center justify-center rounded-lg h-10 px-4 bg-primary/10 text-primary text-sm font-bold hover:bg-primary/20 transition-colors" href="login.html">
<span>Log In</span>
</a>
</header>
<!-- Main Content -->
<main class="flex-1 flex items-center justify-center p-4 md:p-8">
<div class="w-full max-w-[520px] bg-white dark:bg-slate-900 rounded-xl shadow-xl border border-primary/5 p-8 md:p-10">
<div class="text-center mb-8">
<h1 class="text-[#0d121b] dark:text-white text-3xl font-bold leading-tight mb-2">Create your account</h1>
<p class="text-slate-500 dark:text-slate-400 text-base">Enter your professional details to get started with BP-DSS.</p>
</div>
<form class="space-y-5" id="registrationForm">
<!-- Full Name -->
<div class="flex flex-col gap-1.5">
<label class="text-sm font-semibold text-slate-700 dark:text-slate-200" for="fullName">Full Name</label>
<div class="relative">
<span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400">person</span>
<input class="w-full pl-10 pr-4 py-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all placeholder:text-slate-400" id="fullName" name="fullName" placeholder="John Doe" required="" type="text"/>
</div>
</div>
<!-- Email -->
<div class="flex flex-col gap-1.5">
<label class="text-sm font-semibold text-slate-700 dark:text-slate-200" for="email">Email Address</label>
<div class="relative">
<span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400">mail</span>
<input class="w-full pl-10 pr-4 py-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all placeholder:text-slate-400" id="email" name="email" placeholder="name@company.com" required="" type="email"/>
</div>
</div>
<!-- Company Name -->
<div class="flex flex-col gap-1.5">
<label class="text-sm font-semibold text-slate-700 dark:text-slate-200" for="company">Company Name</label>
<div class="relative">
<span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400">corporate_fare</span>
<input class="w-full pl-10 pr-4 py-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all placeholder:text-slate-400" id="company" name="company" placeholder="Acme Corp" required="" type="text"/>
</div>
</div>
<!-- Password -->
<div class="flex flex-col gap-1.5">
<label class="text-sm font-semibold text-slate-700 dark:text-slate-200" for="password">Password</label>
<div class="relative">
<span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400">lock</span>
<input class="w-full pl-10 pr-4 py-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all placeholder:text-slate-400" id="password" minlength="8" name="password" placeholder="••••••••" required="" type="password"/>
</div>
</div>
<!-- Confirm Password -->
<div class="flex flex-col gap-1.5">
<label class="text-sm font-semibold text-slate-700 dark:text-slate-200" for="confirmPassword">Confirm Password</label>
<div class="relative">
<span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400">verified_user</span>
<input class="w-full pl-10 pr-4 py-3 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all placeholder:text-slate-400" id="confirmPassword" name="confirmPassword" placeholder="••••••••" required="" type="password"/>
</div>
</div>
<!-- Error Message Area -->
<div class="hidden p-3 rounded-lg bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm flex items-start gap-2" id="errorBox">
<span class="material-symbols-outlined text-[18px]">error</span>
<span id="errorMessage"></span>
</div>
<!-- Register Button -->
<button class="w-full flex items-center justify-center gap-2 bg-primary hover:bg-primary/90 text-white font-bold py-3.5 px-6 rounded-lg transition-all shadow-md hover:shadow-lg disabled:opacity-70 disabled:cursor-not-allowed" id="submitBtn" type="submit">
<span>Register Account</span>
</button>
</form>
<div class="mt-8 text-center border-t border-slate-100 dark:border-slate-800 pt-6">
<p class="text-slate-500 dark:text-slate-400 text-sm">
                    Already have an account? 
                    <a class="text-primary font-bold hover:underline" href="login.html">Log in here</a>
</p>
</div>
</div>
</main>
<!-- Footer -->
<footer class="py-6 text-center text-slate-400 text-xs">
        © 2024 BP-DSS Decision Support Systems. All rights reserved.
    </footer>
<script>
        document.getElementById('registrationForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const fullName = document.getElementById('fullName').value;
            const email = document.getElementById('email').value;
            const company = document.getElementById('company').value;
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const errorBox = document.getElementById('errorBox');
            const errorMessage = document.getElementById('errorMessage');
            const submitBtn = document.getElementById('submitBtn');

            // Reset UI
            errorBox.classList.add('hidden');
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<span class="material-symbols-outlined animate-spin">progress_activity</span> Processing...';

            // Validation
            if (password !== confirmPassword) {
                showError("Passwords do not match.");
                return;
            }

            try {
                const response = await fetch('http://localhost:8080/api/auth/register', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        fullName,
                        email,
                        company,
                        password
                    }),
                });

                if (response.ok) {
                    // Success redirection
                    window.location.href = 'login.html';
                } else {
                    const data = await response.json();
                    showError(data.message || "Registration failed. Please try again.");
                }
            } catch (error) {
                showError("Unable to connect to the server. Please check your connection.");
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<span>Register Account</span>';
            }
        });

        function showError(msg) {
            const errorBox = document.getElementById('errorBox');
            const errorMessage = document.getElementById('errorMessage');
            const submitBtn = document.getElementById('submitBtn');
            
            errorBox.classList.remove('hidden');
            errorMessage.textContent = msg;
            submitBtn.disabled = false;
            submitBtn.innerHTML = '<span>Register Account</span>';
        }
    </script>
</body></html>